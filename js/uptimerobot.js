var monitordata=[],monitorstatus="success",statuses="正常",monitorskey=["m779374787-4f7d1fd2c7317e6ef4973780","m779381938-48d282623b9ce8df15c373b2"];function display(t){$("#uptimerobot").html(""),$.each(t,function(t,s){9==s.monitors[0].status?(monitorstatus="danger",statuses="宕机"):s.monitors[0].custom_uptime_ratio<90||8==s.monitors[0].status?(monitorstatus="warning",statuses="异常"):(monitorstatus="success",statuses="正常"),$("#uptimerobot").append('<div class="col-lg-6 col-sm-6"><div class="panel panel-'+monitorstatus+'"><div class="panel-heading">'+s.monitors[0].friendly_name+" - "+s.monitors[0].average_response_time+'ms</div><div class="panel-body">服务器'+statuses+"，本周 "+s.monitors[0].custom_uptime_ratio+'% 可用<br/><br/><div class="progress"><div class="progress-bar progress-bar-success" role="progressbar" style="width:'+parseInt(s.monitors[0].custom_uptime_ratio)+'%"></div><div class="progress-bar progress-bar-danger" role="progressbar" style="width:'+(100-parseInt(s.monitors[0].custom_uptime_ratio))+'%"></div></div></div></div></div>')}),$("#uptimerobot").show(),monitordata.length=0}function jsonUptimeRobotApi(t){monitordata.push(t),monitordata.length>=monitorskey.length&&display(monitordata)}function load(){$("#uptimerobot").hide(),$.each(monitorskey,function(t,s){$.ajax({type:"POST",url:"https://api.uptimerobot.com/v2/getMonitors",data:{api_key:s,format:"json",response_times:"1",response_times_average:"1",custom_uptime_ratios:"7",all_time_uptime_ratio:"0"},dataType:"json",success:function(t){jsonUptimeRobotApi(t)},error:function(){console.log("请求数据失败")}})})}$(document).ready(function(){load()});